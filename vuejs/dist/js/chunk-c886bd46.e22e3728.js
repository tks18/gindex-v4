(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c886bd46"],{d8c9:function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{class:s.ismobile?"content mt-4 mt-2 mx-1 px-0":"content mt-4 mt-2 ml-5 mr-5 pl-5 pr-5"},[t("div",{staticClass:"loading"},[t("loading",{attrs:{active:s.loading,"can-cancel":!1,"is-full-page":s.fullpage},on:{"update:active":function(e){s.loading=e}}})],1),t("div",{staticClass:"columns is-multiline has-text-centered is-desktop is-centered is-vcentered"},[s._m(0),t("div",{staticClass:"column is-half"},[t("article",{class:s.errorMessage?"message is-danger":"message is-hidden is-danger"},[t("div",{staticClass:"message-header"},[t("p",[s._v("Error Proccessing")]),t("button",{staticClass:"delete",attrs:{"aria-label":"delete"},on:{click:function(e){s.errorMessage=!1}}})]),t("div",{staticClass:"message-body"},[s._v(" "+s._s(s.resultmessage)+" ")])]),t("form",{on:{submit:function(e){return e.preventDefault(),s.handleSubmit(e)}}},[t("div",{staticClass:"field"},[t("p",{staticClass:"control has-icons-left"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],staticClass:"input is-rounded",attrs:{id:"password",type:"password",placeholder:"Your Password",required:""},domProps:{value:s.password},on:{input:function(e){e.target.composing||(s.password=e.target.value)}}}),s._m(1)])]),t("button",{class:s.loading?"button is-loading is-rounded is-warning":"button is-warning is-rounded",attrs:{type:"submit",disabled:s.disabled}},[s._m(2),t("span",[s._v("Delete")])])])])])])},i=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"column is-full"},[t("h2",{staticClass:"title has-text-weight-bold has-text-white"},[s._v("Delete Your Account")]),t("p",{staticClass:"is-small has-text-danger-dark has-text-weight-bold"},[s._v("Be Cautious !!")])])},function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("span",{staticClass:"icon is-small is-left"},[t("i",{staticClass:"fas fa-lock"})])},function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("span",{staticClass:"icon"},[t("i",{staticClass:"fas fa-user-minus"})])}],n=(t("d81d"),t("d3b7"),t("25f0"),t("9062")),r=t.n(n),o=(t("e40d"),{components:{Loading:r.a},props:["nextUrl"],data:function(){return{user:{},password:"",gds:[],currgd:{},resultmessage:"",disabled:!0,errorMessage:!1,loading:!1,fullpage:!0}},methods:{handleSubmit:function(s){var e=this;if(this.loading=!0,s.preventDefault(),this.password&&this.password.length>0){var t=window.apiRoutes.deleteMe;this.$http.post(t,{email:this.user.email,pass:this.password}).then((function(s){s&&(s.data.auth&&s.data.registered&&s.data.deleted?(e.resultmessage=s.data.message,localStorage.removeItem("userdata"),localStorage.removeItem("tokendata"),setTimeout((function(){e.loading=!1,e.$bus.$emit("logout","User Logged Out"),e.$router.push({name:"results",params:{id:e.currgd.id,cmd:"result",success:!0,data:"You Account is Being Deleted. Please Wait",redirectUrl:"/",tocmd:"home"}})}),1500)):(e.errorMessage=!0,e.loading=!1,e.resultmessage=s.data.message))})).catch((function(s){console.error(s)}))}else this.errorMessage=!0,this.loading=!1,this.resultmessage="Fill in Your Password",this.password=""}},computed:{ismobile:function(){var s=window.innerWidth>0?window.innerWidth:screen.width;return!(s>966)}},beforeMount:function(){var s=localStorage.getItem("userdata"),e=localStorage.getItem("tokendata");if(s&&e){var t=JSON.parse(this.$hash.AES.decrypt(s,this.$pass).toString(this.$hash.enc.Utf8));this.user=t,this.loading=!1}else this.user=null,this.loading=!1},created:function(){if(window.addEventListener("beforeunload",(function(){localStorage.removeItem("hybridToken")})),window.gds){this.gds=window.gds.map((function(s,e){return{name:s,id:e}}));var s=this.$route.params.id;this.gds&&(this.currgd=this.gds[s])}},watch:{password:function(){this.password.length>0?this.disabled=!1:this.disabled=!0}}}),d=o,l=t("2877"),c=Object(l["a"])(d,a,i,!1,null,null,null);e["default"]=c.exports},e40d:function(s,e,t){}}]);